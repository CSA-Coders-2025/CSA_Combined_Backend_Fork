<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layouts/base}" lang="en">

<head>
    <title>Login</title> <!-- The title of the page displayed in the browser's title bar -->
</head>

<!-- The 'body' section is defined using Thymeleaf's layout fragment. It will replace the 'body' content in the base layout -->
<th:block layout:fragment="body" th:remove="tag">

    <!-- Main container for the login page with padding and spacing -->
    <div class="container py-4">
        <!-- Header section, with a border and styling -->
        <header class="pb-3 mb-4 border-bottom border-primary text-light">
            <span class="fs-4">Login</span> <!-- Title of the page displayed inside the header -->
        </header>
    </div>

    <!-- Background color section for the login container, with a green success color -->
    <div class="container py-4 text-light bg-primary rounded">
        <!-- Nested container for a secondary background color and padding -->
        <div class="container bg-secondary py-4 rounded">
            <!-- The actual login form, inside a styled light background with rounded corners -->
            <div class="p-5 mb-4 bg-success text-light rounded-3">
                <!-- Heading for the login section, with added left margin for spacing -->
                <h3 style="margin-left: 10px;">Login To Account</h3>

                <!-- Form for logging in. Uses POST method to submit the data to the /login endpoint -->
                <form name="f" th:action="@{/login}" method="POST">
                    <!-- Error message section displayed when login fails, conditional rendering based on the 'error' param -->
                    <tr th:if="${param.error}" class="alert alert-error">
                        Invalid username and password.
                    </tr>

                    <!-- Success message when the user logs out, conditional rendering based on the 'logout' param -->
                    <tr th:if="${param.logout}" class="alert alert-success">
                        You have been logged out.
                    </tr>

                    <!-- The 'username' input field. The 'uid' field is mapped to 'username' for Spring Security authentication -->
                    <tr>
                        <td><input type="text" id='username' name="username" placeholder="GitHub ID" size="20" required style="margin-bottom: 10px; margin-left: 10px;"></td>
                    </tr>

                    <!-- Password input field with added margin for spacing -->
                    <div class="form-group mb-2 mr-sm-2">
                        <tr>
                            <td><input type="password" id="password" name="password" placeholder="Password" size="20" required style="margin-bottom: 10px; margin-left: 10px;"></td>
                        </tr>

                    </div> 

                    <!-- Submit button for the form, with added margin for spacing -->
                    <tr>
                        <th><input type="submit" value="Submit" style="margin-left: 10px;" class="btn btn-secondary"></th>
                    </tr>

                    <!-- Link to the signup page for users who don't have an account, with added left margin -->
                    <tr>
                        <td><a th:href="@{/mvc/person/create}" style="margin-left: 10px;">Sign Up</a></td>
                    </tr>

                    <!-- Link to the signup page for users who don't have an account, with added left margin -->
                    <tr>
                        <td><a th:href="@{/mvc/person/reset}" style="margin-left: 10px;">Forgot Password?</a></td>
                    </tr>

                    </table>

                </form>
            </div>
        </div>
    </div>

</th:block>
<!-- End of the body fragment -->
